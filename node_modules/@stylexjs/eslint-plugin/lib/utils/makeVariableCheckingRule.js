"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = makeVariableCheckingRule;
function makeVariableCheckingRule(rule) {
  const varCheckingRule = (node, variables) => {
    if (node.type === 'TSSatisfiesExpression' || node.type === 'TSAsExpression') {
      return varCheckingRule(node.expression, variables);
    }
    if (node.type === 'Identifier' && variables != null) {
      const existingVar = variables.get(node.name);
      if (existingVar === 'ARG') {
        return undefined;
      }
      if (existingVar != null) {
        return varCheckingRule(existingVar, variables);
      }
    }
    return rule(node);
  };
  return varCheckingRule;
}